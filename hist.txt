export BUILD_DIR=/home/jeanlee/apps/brams-5.6.2
export FOLDER=/home/jeanlee/apps

./configure --program-prefix=brams_5.6 --prefix=$FOLDER/brams-5.6 --enable-jules \
--with-chem=RELACS_TUV --with-aer=SIMPLE --with-fpcomp=$BUILD_DIR/bin/mpif90 \
--with-cpcomp=$BUILD_DIR/bin/mpicc --with-fcomp=gfortran --with-ccomp=gcc \
--with-netcdff=$BUILD_DIR --with-netcdfc=$BUILD_DIR --with-wgrib2=$BUILD_DIR




Intento Perf

$ mpirun -np 4 perf record brams-5.6 -f RAMSIN_IN

Error:
Access to performance monitoring and observability operations is limited.
Consider adjusting /proc/sys/kernel/perf_event_paranoid setting to open
access to performance monitoring and observability operations for processes
without CAP_PERFMON, CAP_SYS_PTRACE or CAP_SYS_ADMIN Linux capability.
More information can be found at 'Perf events and tool security' document:
https://www.kernel.org/doc/html/latest/admin-guide/perf-security.html
perf_event_paranoid setting is 4:
  -1: Allow use of (almost) all events by all users
      Ignore mlock limit after perf_event_mlock_kb without CAP_IPC_LOCK
>= 0: Disallow raw and ftrace function tracepoint access
>= 1: Disallow CPU event access
>= 2: Disallow kernel profiling
To make the adjusted perf_event_paranoid setting permanent preserve it
in /etc/sysctl.conf (e.g. kernel.perf_event_paranoid = <setting>)


$ perf report

...




